!function(t){function i(){var t=new RegExp;return i.injectClassMethods(t),t}function n(){return new i}var e="VerEx";i.injectClassMethods=function(t){var n;for(n in i.prototype)i.prototype.hasOwnProperty(n)&&(t[n]=i.prototype[n]);return t},i.prototype={_prefixes:"",_source:"",_suffixes:"",_modifiers:"gm",sanitize:function(t){var i;return t.source?t.source:"number"==typeof t?t:(i=/([\].|*?+(){}^$\\:=[])/g,t.replace(i,"\\$&"))},add:function(t){return this._source+=t||"",this.compile(this._prefixes+this._source+this._suffixes,this._modifiers),this},startOfLine:function(t){return t=t!==!1,this._prefixes=t?"^":"",this.add(),this},endOfLine:function(t){return t=t!==!1,this._suffixes=t?"$":"",this.add(),this},then:function(t){return t=this.sanitize(t),this.add("(?:"+t+")"),this},find:function(t){return this.then(t)},maybe:function(t){return t=this.sanitize(t),this.add("(?:"+t+")?"),this},anything:function(){return this.add("(?:.*)"),this},anythingBut:function(t){return t=this.sanitize(t),this.add("(?:[^"+t+"]*)"),this},something:function(){return this.add("(?:.+)"),this},somethingBut:function(t){return t=this.sanitize(t),this.add("(?:[^"+t+"]+)"),this},replace:function(t,i){return t=t.toString(),t.replace(this,i)},lineBreak:function(){return this.add("(?:\\r\\n|\\r|\\n)"),this},br:function(){return this.lineBreak()},tab:function(){return this.add("\\t"),this},word:function(){return this.add("\\w+"),this},whitespace:function(){return this.add("\\s"),this},anyOf:function(t){return t=this.sanitize(t),this.add("["+t+"]"),this},any:function(t){return this.anyOf(t)},range:function(){var t,i,n=arguments.length,e=new Array(n/2),s=0,r=0;for(e[s++]="[";n>r;)t=this.sanitize(arguments[r++]),i=this.sanitize(arguments[r++]),e[s++]=t+"-"+i;return e[s++]="]",this.add(e.join("")),this},addModifier:function(t){return-1===this._modifiers.indexOf(t)&&(this._modifiers+=t),this.add(),this},removeModifier:function(t){return this._modifiers=this._modifiers.replace(t,""),this.add(),this},withAnyCase:function(t){return t!==!1?this.addModifier("i"):this.removeModifier("i"),this.add(),this},stopAtFirst:function(t){return t!==!1?this.removeModifier("g"):this.addModifier("g"),this.add(),this},searchOneLine:function(t){return t!==!1?this.removeModifier("m"):this.addModifier("m"),this.add(),this},repeatPrevious:function(){var t,i=/\d+/,n=arguments.length,e=new Array(n),s=0,r=0;for(s=0;n>s;s++)i.test(arguments[s])&&(e[r++]=arguments[s]);return r>0&&(e.length=r,t="{"+e.join(",")+"}"),this.add(t),this},oneOrMore:function(){return this.add("+"),this},multiple:function(t){return t=t.source||this.sanitize(t),1===arguments.length&&this.add("(?:"+t+")*"),arguments.length>1&&(this.add("(?:"+t+")"),this.add("{"+arguments[1]+"}")),this},or:function(t){return this._prefixes+="(?:",this._suffixes=")"+this._suffixes,this.add(")|(?:"),t&&this.then(t),this},beginCapture:function(){return this._suffixes+=")",this.add("("),this},endCapture:function(){return this._suffixes=this._suffixes.substring(0,this._suffixes.length-1),this.add(")"),this},toRegExp:function(){var t=this.toString().match(/\/(.*)\/([gimuy]+)?/);return new RegExp(t[1],t[2])}},"undefined"!=typeof module&&module.exports?module.exports=n:"function"==typeof define&&define.amd?define(e,[],function(){return i}):t[e]=n}(this);