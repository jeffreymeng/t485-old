"use strict";function q(t){throw t}var t=void 0,u=!1;function y(t,e,s){4!==e.length&&q(new sjcl.exception.invalid("invalid aes block size"));var i=t.a[s],c=e[0]^i[0],n=e[s?3:1]^i[1],r=e[2]^i[2];e=e[s?1:3]^i[3];var a,o,l,h,u=i.length/4-2,d=4,p=[0,0,0,0];t=(a=t.j[s])[0];var f=a[1],g=a[2],j=a[3],m=a[4];for(h=0;h<u;h++)a=t[c>>>24]^f[n>>16&255]^g[r>>8&255]^j[255&e]^i[d],o=t[n>>>24]^f[r>>16&255]^g[e>>8&255]^j[255&c]^i[d+1],l=t[r>>>24]^f[e>>16&255]^g[c>>8&255]^j[255&n]^i[d+2],e=t[e>>>24]^f[c>>16&255]^g[n>>8&255]^j[255&r]^i[d+3],d+=4,c=a,n=o,r=l;for(h=0;4>h;h++)p[s?3&-h:h]=m[c>>>24]<<24^m[n>>16&255]<<16^m[r>>8&255]<<8^m[255&e]^i[d++],a=c,c=n,n=r,r=e,e=a;return p}function z(t,e){var s,i,c,n=e.slice(0),r=t.q,a=t.a,o=r[0],l=r[1],h=r[2],u=r[3],d=r[4],p=r[5],f=r[6],g=r[7];for(s=0;64>s;s++)16>s?i=n[s]:(i=n[s+1&15],c=n[s+14&15],i=n[15&s]=(i>>>7^i>>>18^i>>>3^i<<25^i<<14)+(c>>>17^c>>>19^c>>>10^c<<15^c<<13)+n[15&s]+n[s+9&15]|0),i=i+g+(d>>>6^d>>>11^d>>>25^d<<26^d<<21^d<<7)+(f^d&(p^f))+a[s],g=f,f=p,p=d,d=u+i|0,u=h,h=l,o=i+((l=o)&h^u&(l^h))+(l>>>2^l>>>13^l>>>22^l<<30^l<<19^l<<10)|0;r[0]=r[0]+o|0,r[1]=r[1]+l|0,r[2]=r[2]+h|0,r[3]=r[3]+u|0,r[4]=r[4]+d|0,r[5]=r[5]+p|0,r[6]=r[6]+f|0,r[7]=r[7]+g|0}function C(t,e){var s,i=sjcl.random.z[t],c=[];for(s in i)i.hasOwnProperty(s)&&c.push(i[s]);for(s=0;s<c.length;s++)c[s](e)}function A(t){t.a=B(t).concat(B(t)),t.A=new sjcl.cipher.aes(t.a)}function B(t){for(var e=0;4>e&&(t.e[e]=t.e[e]+1|0,!t.e[e]);e++);return t.A.encrypt(t.e)}window.sjcl={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(t){this.toString=function(){return"CORRUPT: "+this.message},this.message=t},invalid:function(t){this.toString=function(){return"INVALID: "+this.message},this.message=t},bug:function(t){this.toString=function(){return"BUG: "+this.message},this.message=t},notReady:function(t){this.toString=function(){return"NOT READY: "+this.message},this.message=t}}},"undefined"!=typeof module&&module.exports&&(module.exports=sjcl),sjcl.cipher.aes=function(t){this.j[0][0][0]||this.D();var e,s,i,c,n=this.j[0][4],r=this.j[1],a=1;for(4!==(e=t.length)&&6!==e&&8!==e&&q(new sjcl.exception.invalid("invalid aes key size")),this.a=[i=t.slice(0),c=[]],t=e;t<4*e+28;t++)s=i[t-1],(0==t%e||8===e&&4==t%e)&&(s=n[s>>>24]<<24^n[s>>16&255]<<16^n[s>>8&255]<<8^n[255&s],0==t%e&&(s=s<<8^s>>>24^a<<24,a=a<<1^283*(a>>7))),i[t]=i[t-e]^s;for(e=0;t;e++,t--)s=i[3&e?t:t-4],c[e]=4>=t||4>e?s:r[0][n[s>>>24]]^r[1][n[s>>16&255]]^r[2][n[s>>8&255]]^r[3][n[255&s]]},sjcl.cipher.aes.prototype={encrypt:function(t){return y(this,t,0)},decrypt:function(t){return y(this,t,1)},j:[[[],[],[],[],[]],[[],[],[],[],[]]],D:function(){var t,e,s,i,c,n,r,a=this.j[0],o=this.j[1],l=a[4],h=o[4],u=[],d=[];for(t=0;256>t;t++)d[(u[t]=t<<1^283*(t>>7))^t]=t;for(e=s=0;!l[e];e^=i||1,s=d[s]||1)for(n=(n=s^s<<1^s<<2^s<<3^s<<4)>>8^255&n^99,l[e]=n,h[n]=e,r=16843009*(c=u[t=u[i=u[e]]])^65537*t^257*i^16843008*e,c=257*u[n]^16843008*n,t=0;4>t;t++)a[t][e]=c=c<<24^c>>>8,o[t][n]=r=r<<24^r>>>8;for(t=0;5>t;t++)a[t]=a[t].slice(0),o[t]=o[t].slice(0)}},sjcl.bitArray={bitSlice:function(e,s,i){return e=sjcl.bitArray.O(e.slice(s/32),32-(31&s)).slice(1),i===t?e:sjcl.bitArray.clamp(e,i-s)},extract:function(t,e,s){var i=Math.floor(-e-s&31);return(-32&(e+s-1^e)?t[e/32|0]<<32-i^t[e/32+1|0]>>>i:t[e/32|0]>>>i)&(1<<s)-1},concat:function(t,e){if(0===t.length||0===e.length)return t.concat(e);var s=t[t.length-1],i=sjcl.bitArray.getPartial(s);return 32===i?t.concat(e):sjcl.bitArray.O(e,i,0|s,t.slice(0,t.length-1))},bitLength:function(t){var e=t.length;return 0===e?0:32*(e-1)+sjcl.bitArray.getPartial(t[e-1])},clamp:function(t,e){if(32*t.length<e)return t;var s=(t=t.slice(0,Math.ceil(e/32))).length;return e&=31,0<s&&e&&(t[s-1]=sjcl.bitArray.partial(e,t[s-1]&2147483648>>e-1,1)),t},partial:function(t,e,s){return 32===t?e:(s?0|e:e<<32-t)+1099511627776*t},getPartial:function(t){return Math.round(t/1099511627776)||32},equal:function(t,e){if(sjcl.bitArray.bitLength(t)!==sjcl.bitArray.bitLength(e))return u;var s,i=0;for(s=0;s<t.length;s++)i|=t[s]^e[s];return 0===i},O:function(e,s,i,c){var n;for(n=0,c===t&&(c=[]);32<=s;s-=32)c.push(i),i=0;if(0===s)return c.concat(e);for(n=0;n<e.length;n++)c.push(i|e[n]>>>s),i=e[n]<<32-s;return n=e.length?e[e.length-1]:0,e=sjcl.bitArray.getPartial(n),c.push(sjcl.bitArray.partial(s+e&31,32<s+e?i:c.pop(),1)),c},k:function(t,e){return[t[0]^e[0],t[1]^e[1],t[2]^e[2],t[3]^e[3]]}},sjcl.codec.utf8String={fromBits:function(t){var e,s,i="",c=sjcl.bitArray.bitLength(t);for(e=0;e<c/8;e++)0==(3&e)&&(s=t[e/4]),i+=String.fromCharCode(s>>>24),s<<=8;return decodeURIComponent(escape(i))},toBits:function(t){t=unescape(encodeURIComponent(t));var e,s=[],i=0;for(e=0;e<t.length;e++)i=i<<8|t.charCodeAt(e),3==(3&e)&&(s.push(i),i=0);return 3&e&&s.push(sjcl.bitArray.partial(8*(3&e),i)),s}},sjcl.codec.hex={fromBits:function(t){var e,s="";for(e=0;e<t.length;e++)s+=(0xf00000000000+(0|t[e])).toString(16).substr(4);return s.substr(0,sjcl.bitArray.bitLength(t)/4)},toBits:function(t){var e,s,i=[];for(s=(t=t.replace(/\s|0x/g,"")).length,t+="00000000",e=0;e<t.length;e+=8)i.push(0^parseInt(t.substr(e,8),16));return sjcl.bitArray.clamp(i,4*s)}},sjcl.codec.base64={I:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(t,e,s){var i="",c=0,n=sjcl.codec.base64.I,r=0,a=sjcl.bitArray.bitLength(t);for(s&&(n=n.substr(0,62)+"-_"),s=0;6*i.length<a;)i+=n.charAt((r^t[s]>>>c)>>>26),6>c?(r=t[s]<<6-c,c+=26,s++):(r<<=6,c-=6);for(;3&i.length&&!e;)i+="=";return i},toBits:function(t,e){t=t.replace(/\s|=/g,"");var s,i,c=[],n=0,r=sjcl.codec.base64.I,a=0;for(e&&(r=r.substr(0,62)+"-_"),s=0;s<t.length;s++)0>(i=r.indexOf(t.charAt(s)))&&q(new sjcl.exception.invalid("this isn't base64!")),26<n?(n-=26,c.push(a^i>>>n),a=i<<32-n):a^=i<<32-(n+=6);return 56&n&&c.push(sjcl.bitArray.partial(56&n,a,1)),c}},sjcl.codec.base64url={fromBits:function(t){return sjcl.codec.base64.fromBits(t,1,1)},toBits:function(t){return sjcl.codec.base64.toBits(t,1)}},sjcl.hash.sha256=function(t){this.a[0]||this.D(),t?(this.q=t.q.slice(0),this.m=t.m.slice(0),this.g=t.g):this.reset()},sjcl.hash.sha256.hash=function(t){return(new sjcl.hash.sha256).update(t).finalize()},sjcl.hash.sha256.prototype={blockSize:512,reset:function(){return this.q=this.M.slice(0),this.m=[],this.g=0,this},update:function(t){"string"==typeof t&&(t=sjcl.codec.utf8String.toBits(t));var e,s=this.m=sjcl.bitArray.concat(this.m,t);for(e=this.g,t=this.g=e+sjcl.bitArray.bitLength(t),e=512+e&-512;e<=t;e+=512)z(this,s.splice(0,16));return this},finalize:function(){var t,e=this.m,s=this.q;for(t=(e=sjcl.bitArray.concat(e,[sjcl.bitArray.partial(1,1)])).length+2;15&t;t++)e.push(0);for(e.push(Math.floor(this.g/4294967296)),e.push(0|this.g);e.length;)z(this,e.splice(0,16));return this.reset(),s},M:[],a:[],D:function(){function t(t){return 4294967296*(t-Math.floor(t))|0}var e,s=0,i=2;t:for(;64>s;i++){for(e=2;e*e<=i;e++)if(0==i%e)continue t;8>s&&(this.M[s]=t(Math.pow(i,.5))),this.a[s]=t(Math.pow(i,1/3)),s++}}},sjcl.mode.ccm={name:"ccm",encrypt:function(t,e,s,i,c){var n,r=e.slice(0),a=sjcl.bitArray,o=a.bitLength(s)/8,l=a.bitLength(r)/8;for(c=c||64,i=i||[],7>o&&q(new sjcl.exception.invalid("ccm: iv must be at least 7 bytes")),n=2;4>n&&l>>>8*n;n++);return n<15-o&&(n=15-o),s=a.clamp(s,8*(15-n)),e=sjcl.mode.ccm.K(t,e,s,i,c,n),r=sjcl.mode.ccm.n(t,r,s,e,c,n),a.concat(r.data,r.tag)},decrypt:function(t,e,s,i,c){c=c||64,i=i||[];var n=sjcl.bitArray,r=n.bitLength(s)/8,a=n.bitLength(e),o=n.clamp(e,a-c),l=n.bitSlice(e,a-c);a=(a-c)/8;for(7>r&&q(new sjcl.exception.invalid("ccm: iv must be at least 7 bytes")),e=2;4>e&&a>>>8*e;e++);return e<15-r&&(e=15-r),s=n.clamp(s,8*(15-e)),o=sjcl.mode.ccm.n(t,o,s,l,c,e),t=sjcl.mode.ccm.K(t,o.data,s,i,c,e),n.equal(o.tag,t)||q(new sjcl.exception.corrupt("ccm: tag doesn't match")),o.data},K:function(t,e,s,i,c,n){var r=[],a=sjcl.bitArray,o=a.k;if(((c/=8)%2||4>c||16<c)&&q(new sjcl.exception.invalid("ccm: invalid tag length")),(4294967295<i.length||4294967295<e.length)&&q(new sjcl.exception.bug("ccm: can't deal with 4GiB or more data")),n=[a.partial(8,(i.length?64:0)|c-2<<2|n-1)],(n=a.concat(n,s))[3]|=a.bitLength(e)/8,n=t.encrypt(n),i.length)for(65279>=(s=a.bitLength(i)/8)?r=[a.partial(16,s)]:4294967295>=s&&(r=a.concat([a.partial(16,65534)],[s])),r=a.concat(r,i),i=0;i<r.length;i+=4)n=t.encrypt(o(n,r.slice(i,i+4).concat([0,0,0])));for(i=0;i<e.length;i+=4)n=t.encrypt(o(n,e.slice(i,i+4).concat([0,0,0])));return a.clamp(n,8*c)},n:function(t,e,s,i,c,n){var r,a=sjcl.bitArray;r=a.k;var o=e.length,l=a.bitLength(e);if(s=a.concat([a.partial(8,n-1)],s).concat([0,0,0]).slice(0,4),i=a.bitSlice(r(i,t.encrypt(s)),0,c),!o)return{tag:i,data:[]};for(r=0;r<o;r+=4)s[3]++,c=t.encrypt(s),e[r]^=c[0],e[r+1]^=c[1],e[r+2]^=c[2],e[r+3]^=c[3];return{tag:i,data:a.clamp(e,l)}}},sjcl.mode.ocb2={name:"ocb2",encrypt:function(t,e,s,i,c,n){128!==sjcl.bitArray.bitLength(s)&&q(new sjcl.exception.invalid("ocb iv must be 128 bits"));var r,a=sjcl.mode.ocb2.G,o=sjcl.bitArray,l=o.k,h=[0,0,0,0];s=a(t.encrypt(s));var u,d=[];for(i=i||[],c=c||64,r=0;r+4<e.length;r+=4)h=l(h,u=e.slice(r,r+4)),d=d.concat(l(s,t.encrypt(l(s,u)))),s=a(s);return u=e.slice(r),e=o.bitLength(u),r=t.encrypt(l(s,[0,0,0,e])),h=l(h,l((u=o.clamp(l(u.concat([0,0,0]),r),e)).concat([0,0,0]),r)),h=t.encrypt(l(h,l(s,a(s)))),i.length&&(h=l(h,n?i:sjcl.mode.ocb2.pmac(t,i))),d.concat(o.concat(u,o.clamp(h,c)))},decrypt:function(t,e,s,i,c,n){128!==sjcl.bitArray.bitLength(s)&&q(new sjcl.exception.invalid("ocb iv must be 128 bits")),c=c||64;var r,a,o=sjcl.mode.ocb2.G,l=sjcl.bitArray,h=l.k,u=[0,0,0,0],d=o(t.encrypt(s)),p=sjcl.bitArray.bitLength(e)-c,f=[];for(i=i||[],s=0;s+4<p/32;s+=4)u=h(u,r=h(d,t.decrypt(h(d,e.slice(s,s+4))))),f=f.concat(r),d=o(d);return a=p-32*s,u=h(u,r=h(r=t.encrypt(h(d,[0,0,0,a])),l.clamp(e.slice(s),a).concat([0,0,0]))),u=t.encrypt(h(u,h(d,o(d)))),i.length&&(u=h(u,n?i:sjcl.mode.ocb2.pmac(t,i))),l.equal(l.clamp(u,c),l.bitSlice(e,p))||q(new sjcl.exception.corrupt("ocb: tag doesn't match")),f.concat(l.clamp(r,a))},pmac:function(t,e){var s,i=sjcl.mode.ocb2.G,c=sjcl.bitArray,n=c.k,r=[0,0,0,0],a=n(a=t.encrypt([0,0,0,0]),i(i(a)));for(s=0;s+4<e.length;s+=4)a=i(a),r=n(r,t.encrypt(n(a,e.slice(s,s+4))));return s=e.slice(s),128>c.bitLength(s)&&(a=n(a,i(a)),s=c.concat(s,[-2147483648,0,0,0])),r=n(r,s),t.encrypt(n(i(n(a,i(a))),r))},G:function(t){return[t[0]<<1^t[1]>>>31,t[1]<<1^t[2]>>>31,t[2]<<1^t[3]>>>31,t[3]<<1^135*(t[0]>>>31)]}},sjcl.mode.gcm={name:"gcm",encrypt:function(t,e,s,i,c){var n=e.slice(0);return e=sjcl.bitArray,i=i||[],t=sjcl.mode.gcm.n(!0,t,n,i,s,c||128),e.concat(t.data,t.tag)},decrypt:function(t,e,s,i,c){var n=e.slice(0),r=sjcl.bitArray,a=r.bitLength(n);return c=c||128,i=i||[],c<=a?(e=r.bitSlice(n,a-c),n=r.bitSlice(n,0,a-c)):(e=n,n=[]),t=sjcl.mode.gcm.n(u,t,n,i,s,c),r.equal(t.tag,e)||q(new sjcl.exception.corrupt("gcm: tag doesn't match")),t.data},U:function(t,e){var s,i,c,n,r,a=sjcl.bitArray.k;for(c=[0,0,0,0],n=e.slice(0),s=0;128>s;s++){for((i=0!=(t[Math.floor(s/32)]&1<<31-s%32))&&(c=a(c,n)),r=0!=(1&n[3]),i=3;0<i;i--)n[i]=n[i]>>>1|(1&n[i-1])<<31;n[0]>>>=1,r&&(n[0]^=-520093696)}return c},f:function(t,e,s){var i,c=s.length;for(e=e.slice(0),i=0;i<c;i+=4)e[0]^=4294967295&s[i],e[1]^=4294967295&s[i+1],e[2]^=4294967295&s[i+2],e[3]^=4294967295&s[i+3],e=sjcl.mode.gcm.U(e,t);return e},n:function(t,e,s,i,c,n){var r,a,o,l,h,u,d,p,f=sjcl.bitArray;for(u=s.length,d=f.bitLength(s),p=f.bitLength(i),a=f.bitLength(c),r=e.encrypt([0,0,0,0]),96===a?(c=c.slice(0),c=f.concat(c,[1])):(c=sjcl.mode.gcm.f(r,[0,0,0,0],c),c=sjcl.mode.gcm.f(r,c,[0,0,Math.floor(a/4294967296),4294967295&a])),a=sjcl.mode.gcm.f(r,[0,0,0,0],i),h=c.slice(0),i=a.slice(0),t||(i=sjcl.mode.gcm.f(r,a,s)),l=0;l<u;l+=4)h[3]++,o=e.encrypt(h),s[l]^=o[0],s[l+1]^=o[1],s[l+2]^=o[2],s[l+3]^=o[3];return s=f.clamp(s,d),t&&(i=sjcl.mode.gcm.f(r,a,s)),t=[Math.floor(p/4294967296),4294967295&p,Math.floor(d/4294967296),4294967295&d],i=sjcl.mode.gcm.f(r,i,t),o=e.encrypt(c),i[0]^=o[0],i[1]^=o[1],i[2]^=o[2],i[3]^=o[3],{tag:f.bitSlice(i,0,n),data:s}}},sjcl.misc.hmac=function(t,e){this.L=e=e||sjcl.hash.sha256;var s,i=[[],[]],c=e.prototype.blockSize/32;for(this.o=[new e,new e],t.length>c&&(t=e.hash(t)),s=0;s<c;s++)i[0][s]=909522486^t[s],i[1][s]=1549556828^t[s];this.o[0].update(i[0]),this.o[1].update(i[1])},sjcl.misc.hmac.prototype.encrypt=sjcl.misc.hmac.prototype.mac=function(t){return t=new this.L(this.o[0]).update(t).finalize(),new this.L(this.o[1]).update(t).finalize()},sjcl.misc.pbkdf2=function(t,e,s,i,c){s=s||1e3,(0>i||0>s)&&q(sjcl.exception.invalid("invalid params to pbkdf2")),"string"==typeof t&&(t=sjcl.codec.utf8String.toBits(t)),t=new(c=c||sjcl.misc.hmac)(t);var n,r,a,o,l=[],h=sjcl.bitArray;for(o=1;32*l.length<(i||1);o++){for(c=n=t.encrypt(h.concat(e,[o])),r=1;r<s;r++)for(n=t.encrypt(n),a=0;a<n.length;a++)c[a]^=n[a];l=l.concat(c)}return i&&(l=h.clamp(l,i)),l},sjcl.prng=function(e){this.b=[new sjcl.hash.sha256],this.h=[0],this.F=0,this.t={},this.C=0,this.J={},this.N=this.c=this.i=this.T=0,this.a=[0,0,0,0,0,0,0,0],this.e=[0,0,0,0],this.A=t,this.B=e,this.p=u,this.z={progress:{},seeded:{}},this.l=this.S=0,this.u=1,this.w=2,this.Q=65536,this.H=[0,48,64,96,128,192,256,384,512,768,1024],this.R=3e4,this.P=80},sjcl.prng.prototype={randomWords:function(t,e){var s,i,c=[];if((s=this.isReady(e))===this.l&&q(new sjcl.exception.notReady("generator isn't seeded")),s&this.w){s=!(s&this.u),i=[];var n,r=0;for(this.N=i[0]=(new Date).valueOf()+this.R,n=0;16>n;n++)i.push(4294967296*Math.random()|0);for(n=0;n<this.b.length&&(i=i.concat(this.b[n].finalize()),r+=this.h[n],this.h[n]=0,s||!(this.F&1<<n));n++);for(this.F>=1<<this.b.length&&(this.b.push(new sjcl.hash.sha256),this.h.push(0)),this.c-=r,r>this.i&&(this.i=r),this.F++,this.a=sjcl.hash.sha256.hash(this.a.concat(i)),this.A=new sjcl.cipher.aes(this.a),s=0;4>s&&(this.e[s]=this.e[s]+1|0,!this.e[s]);s++);}for(s=0;s<t;s+=4)0==(s+1)%this.Q&&A(this),i=B(this),c.push(i[0],i[1],i[2],i[3]);return A(this),c.slice(0,t)},setDefaultParanoia:function(t){this.B=t},addEntropy:function(e,s,i){i=i||"user";var c,n,r=(new Date).valueOf(),a=this.t[i],o=this.isReady(),l=0;switch((c=this.J[i])===t&&(c=this.J[i]=this.T++),a===t&&(a=this.t[i]=0),this.t[i]=(this.t[i]+1)%this.b.length,typeof e){case"number":s===t&&(s=1),this.b[a].update([c,this.C++,1,s,r,1,0|e]);break;case"object":if("[object Uint32Array]"===(i=Object.prototype.toString.call(e))){for(n=[],i=0;i<e.length;i++)n.push(e[i]);e=n}else for("[object Array]"!==i&&(l=1),i=0;i<e.length&&!l;i++)"number"!=typeof e[i]&&(l=1);if(!l){if(s===t)for(i=s=0;i<e.length;i++)for(n=e[i];0<n;)s++,n>>>=1;this.b[a].update([c,this.C++,2,s,r,e.length].concat(e))}break;case"string":s===t&&(s=e.length),this.b[a].update([c,this.C++,3,s,r,e.length]),this.b[a].update(e);break;default:l=1}l&&q(new sjcl.exception.bug("random: addEntropy only supports number, array of numbers or string")),this.h[a]+=s,this.c+=s,o===this.l&&(this.isReady()!==this.l&&C("seeded",Math.max(this.i,this.c)),C("progress",this.getProgress()))},isReady:function(e){return e=this.H[e!==t?e:this.B],this.i&&this.i>=e?this.h[0]>this.P&&(new Date).valueOf()>this.N?this.w|this.u:this.u:this.c>=e?this.w|this.l:this.l},getProgress:function(t){return t=this.H[t||this.B],this.i>=t?1:this.c>t?1:this.c/t},startCollectors:function(){this.p||(window.addEventListener?(window.addEventListener("load",this.r,u),window.addEventListener("mousemove",this.s,u)):document.attachEvent?(document.attachEvent("onload",this.r),document.attachEvent("onmousemove",this.s)):q(new sjcl.exception.bug("can't attach event")),this.p=!0)},stopCollectors:function(){this.p&&(window.removeEventListener?(window.removeEventListener("load",this.r,u),window.removeEventListener("mousemove",this.s,u)):window.detachEvent&&(window.detachEvent("onload",this.r),window.detachEvent("onmousemove",this.s)),this.p=u)},addEventListener:function(t,e){this.z[t][this.S++]=e},removeEventListener:function(t,e){var s,i,c=this.z[t],n=[];for(i in c)c.hasOwnProperty(i)&&c[i]===e&&n.push(i);for(s=0;s<n.length;s++)delete c[i=n[s]]},s:function(t){sjcl.random.addEntropy([t.x||t.clientX||t.offsetX||0,t.y||t.clientY||t.offsetY||0],2,"mouse")},r:function(){sjcl.random.addEntropy((new Date).valueOf(),2,"loadtime")}},sjcl.random=new sjcl.prng(6);try{var D=new Uint32Array(32);crypto.getRandomValues(D),sjcl.random.addEntropy(D,1024,"crypto['getRandomValues']")}catch(t){}sjcl.json={defaults:{v:1,iter:1e3,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},encrypt:function(t,e,s,i){s=s||{},i=i||{};var c,n=sjcl.json,r=n.d({iv:sjcl.random.randomWords(4,0)},n.defaults);return n.d(r,s),s=r.adata,"string"==typeof r.salt&&(r.salt=sjcl.codec.base64.toBits(r.salt)),"string"==typeof r.iv&&(r.iv=sjcl.codec.base64.toBits(r.iv)),(!sjcl.mode[r.mode]||!sjcl.cipher[r.cipher]||"string"==typeof t&&100>=r.iter||64!==r.ts&&96!==r.ts&&128!==r.ts||128!==r.ks&&192!==r.ks&&256!==r.ks||2>r.iv.length||4<r.iv.length)&&q(new sjcl.exception.invalid("json encrypt: invalid parameters")),"string"==typeof t&&(t=(c=sjcl.misc.cachedPbkdf2(t,r)).key.slice(0,r.ks/32),r.salt=c.salt),"string"==typeof e&&(e=sjcl.codec.utf8String.toBits(e)),"string"==typeof s&&(s=sjcl.codec.utf8String.toBits(s)),c=new sjcl.cipher[r.cipher](t),n.d(i,r),i.key=t,r.ct=sjcl.mode[r.mode].encrypt(c,e,r.iv,s,r.ts),n.encode(r)},decrypt:function(t,e,s,i){s=s||{},i=i||{};var c,n=sjcl.json;return s=(e=n.d(n.d(n.d({},n.defaults),n.decode(e)),s,!0)).adata,"string"==typeof e.salt&&(e.salt=sjcl.codec.base64.toBits(e.salt)),"string"==typeof e.iv&&(e.iv=sjcl.codec.base64.toBits(e.iv)),(!sjcl.mode[e.mode]||!sjcl.cipher[e.cipher]||"string"==typeof t&&100>=e.iter||64!==e.ts&&96!==e.ts&&128!==e.ts||128!==e.ks&&192!==e.ks&&256!==e.ks||!e.iv||2>e.iv.length||4<e.iv.length)&&q(new sjcl.exception.invalid("json decrypt: invalid parameters")),"string"==typeof t&&(t=(c=sjcl.misc.cachedPbkdf2(t,e)).key.slice(0,e.ks/32),e.salt=c.salt),"string"==typeof s&&(s=sjcl.codec.utf8String.toBits(s)),c=new sjcl.cipher[e.cipher](t),s=sjcl.mode[e.mode].decrypt(c,e.ct,e.iv,s,e.ts),n.d(i,e),i.key=t,sjcl.codec.utf8String.fromBits(s)},encode:function(t){var e,s="{",i="";for(e in t)if(t.hasOwnProperty(e))switch(e.match(/^[a-z0-9]+$/i)||q(new sjcl.exception.invalid("json encode: invalid property name")),s+=i+'"'+e+'":',i=",",typeof t[e]){case"number":case"boolean":s+=t[e];break;case"string":s+='"'+escape(t[e])+'"';break;case"object":s+='"'+sjcl.codec.base64.fromBits(t[e],0)+'"';break;default:q(new sjcl.exception.bug("json encode: unsupported type"))}return s+"}"},decode:function(t){(t=t.replace(/\s/g,"")).match(/^\{.*\}$/)||q(new sjcl.exception.invalid("json decode: this isn't json!")),t=t.replace(/^\{|\}$/g,"").split(/,/);var e,s,i={};for(e=0;e<t.length;e++)(s=t[e].match(/^(?:(["']?)([a-z][a-z0-9]*)\1):(?:(\d+)|"([a-z0-9+\/%*_.@=\-]*)")$/i))||q(new sjcl.exception.invalid("json decode: this isn't json!")),i[s[2]]=s[3]?parseInt(s[3],10):s[2].match(/^(ct|salt|iv)$/)?sjcl.codec.base64.toBits(s[4]):unescape(s[4]);return i},d:function(e,s,i){if(e===t&&(e={}),s===t)return e;for(var c in s)s.hasOwnProperty(c)&&(i&&e[c]!==t&&e[c]!==s[c]&&q(new sjcl.exception.invalid("required parameter overridden")),e[c]=s[c]);return e},X:function(t,e){var s,i={};for(s in t)t.hasOwnProperty(s)&&t[s]!==e[s]&&(i[s]=t[s]);return i},W:function(e,s){var i,c={};for(i=0;i<s.length;i++)e[s[i]]!==t&&(c[s[i]]=e[s[i]]);return c}},sjcl.encrypt=sjcl.json.encrypt,sjcl.decrypt=sjcl.json.decrypt,sjcl.misc.V={},sjcl.misc.cachedPbkdf2=function(e,s){var i,c=sjcl.misc.V;return i=(s=s||{}).iter||1e3,(i=(c=c[e]=c[e]||{})[i]=c[i]||{firstSalt:s.salt&&s.salt.length?s.salt.slice(0):sjcl.random.randomWords(2,0)})[c=s.salt===t?i.firstSalt:s.salt]=i[c]||sjcl.misc.pbkdf2(e,c,s.iter),{key:i[c].slice(0),salt:c.slice(0)}};