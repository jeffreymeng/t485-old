!function(){var e={},t=function(t){for(var n=e[t],a=n.deps,i=n.defn,o=a.length,u=new Array(o),d=0;d<o;++d)u[d]=r(a[d]);var c=i.apply(null,u);if(void 0===c)throw"module ["+t+"] returned undefined";n.instance=c},n=function(t,n,r){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===r)throw"no definition function for "+t;e[t]={deps:n,defn:r,instance:void 0}},r=function(n){var r=e[n];if(void 0===r)throw"module ["+n+"] was undefined";return void 0===r.instance&&t(n),r.instance},a=n;(function(e,t){a(e,[],function(){return t})})("3",tinymce.util.Tools.resolve),a("1",["3"],function(e){return e("tinymce.PluginManager")}),a("2",["3"],function(e){return e("tinymce.util.Tools")}),a("0",["1","2"],function(e,t){return e.add("insertdatetime",function(e){function n(t,n){function r(e,t){if((e=""+e).length<t)for(var n=0;n<t-e.length;n++)e="0"+e;return e}return n=n||new Date,(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace("%D","%m/%d/%Y")).replace("%r","%I:%M:%S %p")).replace("%Y",""+n.getFullYear())).replace("%y",""+n.getYear())).replace("%m",r(n.getMonth()+1,2))).replace("%d",r(n.getDate(),2))).replace("%H",""+r(n.getHours(),2))).replace("%M",""+r(n.getMinutes(),2))).replace("%S",""+r(n.getSeconds(),2))).replace("%I",""+((n.getHours()+11)%12+1))).replace("%p",n.getHours()<12?"AM":"PM")).replace("%B",""+e.translate(c[n.getMonth()]))).replace("%b",""+e.translate(d[n.getMonth()]))).replace("%A",""+e.translate(u[n.getDay()]))).replace("%a",""+e.translate(o[n.getDay()]))).replace("%%","%")}function r(t){var r=n(t);if(e.settings.insertdatetime_element){r='<time datetime="'+n(/%[HMSIp]/.test(t)?"%Y-%m-%dT%H:%M":"%Y-%m-%d")+'">'+r+"</time>";var a=e.dom.getParent(e.selection.getStart(),"time");if(a)return void e.dom.setOuterHTML(a,r)}e.insertContent(r)}var a,i,o="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),u="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),d="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),c="January February March April May June July August September October November December".split(" "),s=[];e.addCommand("mceInsertDate",function(){r(e.getParam("insertdatetime_dateformat",e.translate("%Y-%m-%d")))}),e.addCommand("mceInsertTime",function(){r(e.getParam("insertdatetime_timeformat",e.translate("%H:%M:%S")))}),e.addButton("insertdatetime",{type:"splitbutton",title:"Insert date/time",onclick:function(){r(a||i)},menu:s}),t.each(e.settings.insertdatetime_formats||["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"],function(e){i||(i=e),s.push({text:n(e),onclick:function(){a=e,r(e)}})}),e.addMenuItem("insertdatetime",{icon:"date",text:"Date/time",menu:s,context:"insert"})}),function(){}}),r("0")()}();