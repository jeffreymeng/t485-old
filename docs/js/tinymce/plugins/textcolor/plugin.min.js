!function(){var t={},o=function(o){for(var e=t[o],n=e.deps,l=e.defn,i=n.length,a=new Array(i),c=0;c<i;++c)a[c]=r(n[c]);var s=l.apply(null,a);if(void 0===s)throw"module ["+o+"] returned undefined";e.instance=s},e=function(o,e,r){if("string"!=typeof o)throw"module id must be a string";if(void 0===e)throw"no dependencies for "+o;if(void 0===r)throw"no definition function for "+o;t[o]={deps:e,defn:r,instance:void 0}},r=function(e){var r=t[e];if(void 0===r)throw"module ["+e+"] was undefined";return void 0===r.instance&&o(e),r.instance},n=e;(function(t,o){n(t,[],function(){return o})})("5",tinymce.util.Tools.resolve),n("1",["5"],function(t){return t("tinymce.dom.DOMUtils")}),n("2",["5"],function(t){return t("tinymce.PluginManager")}),n("3",["5"],function(t){return t("tinymce.util.I18n")}),n("4",["5"],function(t){return t("tinymce.util.Tools")}),n("0",["1","2","3","4"],function(t,o,e,r){var n=e.translate;return o.add("textcolor",function(o){function e(){function t(t,o){var e="transparent"==t;return'<td class="mce-grid-cell'+(e?" mce-colorbtn-trans":"")+'"><div id="'+g+"-"+m+++'" data-mce-color="'+(t||"")+'" role="option" tabIndex="-1" style="'+(t?"background-color: "+t:"")+'" title="'+n(o)+'">'+(e?"&#215;":"")+"</div></td>"}var e,r,l,i,a,c,d,f,g=this._id,m=0;for((e=function(t){var e,r,n=[];for(r=["000000","Black","993300","Burnt orange","333300","Dark olive","003300","Dark green","003366","Dark azure","000080","Navy Blue","333399","Indigo","333333","Very dark gray","800000","Maroon","FF6600","Orange","808000","Olive","008000","Green","008080","Teal","0000FF","Blue","666699","Grayish blue","808080","Gray","FF0000","Red","FF9900","Amber","99CC00","Yellow green","339966","Sea green","33CCCC","Turquoise","3366FF","Royal blue","800080","Purple","999999","Medium gray","FF00FF","Magenta","FFCC00","Gold","FFFF00","Yellow","00FF00","Lime","00FFFF","Aqua","00CCFF","Sky blue","993366","Red violet","FFFFFF","White","FF99CC","Pink","FFCC99","Peach","FFFF99","Light yellow","CCFFCC","Pale green","CCFFFF","Pale cyan","99CCFF","Light sky blue","CC99FF","Plum"],r=o.settings.textcolor_map||r,r=o.settings[t+"_map"]||r,e=0;e<r.length;e+=2)n.push({text:r[e+1],color:"#"+r[e]});return n}(f=this.settings.origin)).push({text:n("No color"),color:"transparent"}),l='<table class="mce-grid mce-grid-border mce-colorbutton-grid" role="list" cellspacing="0"><tbody>',i=e.length-1,c=0;c<u[f];c++){for(l+="<tr>",a=0;a<s[f];a++)(d=c*s[f]+a)>i?l+="<td></td>":l+=t((r=e[d]).color,r.text);l+="</tr>"}if(o.settings.color_picker_callback){for(l+='<tr><td colspan="'+s[f]+'" class="mce-custom-color-btn"><div id="'+g+'-c" class="mce-widget mce-btn mce-btn-small mce-btn-flat" role="button" tabindex="-1" aria-labelledby="'+g+'-c" style="width: 100%"><button type="button" role="presentation" tabindex="-1">'+n("Custom...")+"</button></div></td></tr>",l+="<tr>",a=0;a<s[f];a++)l+=t("","Custom color");l+="</tr>"}return l+"</tbody></table>"}function l(t,e){o.undoManager.transact(function(){o.focus(),o.formatter.apply(t,{value:e}),o.nodeChanged()})}function i(t){o.undoManager.transact(function(){o.focus(),o.formatter.remove(t,{value:null},null,!0),o.nodeChanged()})}function a(e){function n(t){d.hidePanel(),d.color(t),l(d.settings.format,t)}function a(t,o){t.style.background=o,t.setAttribute("data-mce-color",o)}var c,u,d=this.parent();u=d.settings.origin,t.DOM.getParent(e.target,".mce-custom-color-btn")&&(d.hidePanel(),o.settings.color_picker_callback.call(o,function(t){var o,e,l,i=d.panel.getEl().getElementsByTagName("table")[0];for(o=r.map(i.rows[i.rows.length-1].childNodes,function(t){return t.firstChild}),l=0;l<o.length&&(e=o[l]).getAttribute("data-mce-color");l++);if(l==s[u])for(l=0;l<s[u]-1;l++)a(o[l],o[l+1].getAttribute("data-mce-color"));a(e,t),n(t)},function(t){var e;return o.dom.getParents(o.selection.getStart(),function(o){var r;(r=o.style["forecolor"==t?"color":"background-color"])&&(e=r)}),e}(d.settings.format))),(c=e.target.getAttribute("data-mce-color"))?(this.lastId&&document.getElementById(this.lastId).setAttribute("aria-selected",!1),e.target.setAttribute("aria-selected",!0),this.lastId=e.target.id,"transparent"==c?(d.hidePanel(),d.resetColor(),i(d.settings.format)):n(c)):null!==c&&d.hidePanel()}function c(){var t=this;t._color?l(t.settings.format,t._color):i(t.settings.format)}var s,u;u={forecolor:o.settings.forecolor_rows||o.settings.textcolor_rows||5,backcolor:o.settings.backcolor_rows||o.settings.textcolor_rows||5},s={forecolor:o.settings.forecolor_cols||o.settings.textcolor_cols||8,backcolor:o.settings.backcolor_cols||o.settings.textcolor_cols||8},o.addButton("forecolor",{type:"colorbutton",tooltip:"Text color",format:"forecolor",panel:{origin:"forecolor",role:"application",ariaRemember:!0,html:e,onclick:a},onclick:c}),o.addButton("backcolor",{type:"colorbutton",tooltip:"Background color",format:"hilitecolor",panel:{origin:"backcolor",role:"application",ariaRemember:!0,html:e,onclick:a},onclick:c})}),function(){}}),r("0")()}();