!function(){var n={},r=function(r){for(var t=n[r],o=t.deps,u=t.defn,i=o.length,c=new Array(i),a=0;a<i;++a)c[a]=e(o[a]);var f=u.apply(null,c);if(void 0===f)throw"module ["+r+"] returned undefined";t.instance=f},t=function(r,t,e){if("string"!=typeof r)throw"module id must be a string";if(void 0===t)throw"no dependencies for "+r;if(void 0===e)throw"no definition function for "+r;n[r]={deps:t,defn:e,instance:void 0}},e=function(t){var e=n[t];if(void 0===e)throw"module ["+t+"] was undefined";return void 0===e.instance&&r(t),e.instance},o=t,u=function(n,r){o(n,[],function(){return r})};u("6",tinymce.util.Tools.resolve),o("1",["6"],function(n){return n("tinymce.PluginManager")}),o("2",["6"],function(n){return n("tinymce.util.Delay")}),u("8",Array),u("9",Error),o("b",["8","9"],function(n,r){var t=function(n){return function(){return n}};return{noop:function(){},compose:function(n,r){return function(){return n(r.apply(null,arguments))}},constant:t,identity:function(n){return n},tripleEquals:function(n,r){return n===r},curry:function(r){for(var t=new n(arguments.length-1),e=1;e<arguments.length;e++)t[e-1]=arguments[e];return function(){for(var e=new n(arguments.length),o=0;o<e.length;o++)e[o]=arguments[o];var u=t.concat(e);return r.apply(null,u)}},not:function(n){return function(){return!n.apply(null,arguments)}},die:function(n){return function(){throw new r(n)}},apply:function(n){return n()},call:function(n){n()},never:t(!1),always:t(!0)}}),u("h",Object),o("7",["b","h"],function(n,r){var t=n.never,e=n.always,o=function(){return u},u=function(){var u=function(n){return n.isNone()},i=function(n){return n()},c=function(n){return n},a={fold:function(n,r){return n()},is:t,isSome:t,isNone:e,getOr:c,getOrThunk:i,getOrDie:function(n){throw new Error(n||"error: getOrDie called on none.")},or:c,orThunk:i,map:o,ap:o,each:function(){},bind:o,flatten:o,exists:t,forall:e,filter:o,equals:u,equals_:u,toArray:function(){return[]},toString:n.constant("none()")};return r.freeze&&r.freeze(a),a}(),i=function(n){var r=function(){return n},c=function(){return f},a=function(r){return r(n)},f={fold:function(r,t){return t(n)},is:function(r){return n===r},isSome:e,isNone:t,getOr:r,getOrThunk:r,getOrDie:r,or:c,orThunk:c,map:function(r){return i(r(n))},ap:function(r){return r.fold(o,function(r){return i(r(n))})},each:function(r){r(n)},bind:a,flatten:r,exists:a,forall:a,filter:function(r){return r(n)?f:u},equals:function(r){return r.is(n)},equals_:function(r,e){return r.fold(t,function(r){return e(n,r)})},toArray:function(){return[n]},toString:function(){return"some("+n+")"}};return f};return{some:i,none:o,from:function(n){return null===n||void 0===n?u:i(n)}}}),u("a",String),o("3",["7","8","9","a"],function(n,r,t,e){var o=function(){var n=r.prototype.indexOf;return void 0===n?function(n,r){return s(n,r)}:function(r,t){return n.call(r,t)}}(),u=function(n,r){return o(n,r)>-1},i=function(n,t){for(var e=n.length,o=new r(e),u=0;u<e;u++){var i=n[u];o[u]=t(i,u,n)}return o},c=function(n,r){for(var t=0,e=n.length;t<e;t++){r(n[t],t,n)}},a=function(n,r){for(var t=n.length-1;t>=0;t--){r(n[t],t,n)}},f=function(n,r){for(var t=[],e=0,o=n.length;e<o;e++){var u=n[e];r(u,e,n)&&t.push(u)}return t},l=function(r,t){for(var e=0,o=r.length;e<o;e++){if(t(r[e],e,r))return n.some(e)}return n.none()},s=function(n,r){for(var t=0,e=n.length;t<e;++t)if(n[t]===r)return t;return-1},d=r.prototype.push,h=function(n){for(var e=[],o=0,u=n.length;o<u;++o){if(!r.prototype.isPrototypeOf(n[o]))throw new t("Arr.flatten item "+o+" was not an array, input: "+n);d.apply(e,n[o])}return e},v=function(n,r){for(var t=0,e=n.length;t<e;++t){if(!0!==r(n[t],t,n))return!1}return!0},p=r.prototype.slice;return{map:i,each:c,eachr:a,partition:function(n,r){for(var t=[],e=[],o=0,u=n.length;o<u;o++){var i=n[o];(r(i,o,n)?t:e).push(i)}return{pass:t,fail:e}},filter:f,groupBy:function(n,r){if(0===n.length)return[];for(var t=r(n[0]),e=[],o=[],u=0,i=n.length;u<i;u++){var c=n[u],a=r(c);a!==t&&(e.push(o),o=[]),t=a,o.push(c)}return 0!==o.length&&e.push(o),e},indexOf:function(r,t){var e=o(r,t);return-1===e?n.none():n.some(e)},foldr:function(n,r,t){return a(n,function(n){t=r(t,n)}),t},foldl:function(n,r,t){return c(n,function(n){t=r(t,n)}),t},find:function(r,t){for(var e=0,o=r.length;e<o;e++){var u=r[e];if(t(u,e,r))return n.some(u)}return n.none()},findIndex:l,flatten:h,bind:function(n,r){var t=i(n,r);return h(t)},forall:v,exists:function(n,r){return l(n,r).isSome()},contains:u,equal:function(n,r){return n.length===r.length&&v(n,function(n,t){return n===r[t]})},reverse:function(n){var r=p.call(n,0);return r.reverse(),r},chunk:function(n,r){for(var t=[],e=0;e<n.length;e+=r){var o=n.slice(e,e+r);t.push(o)}return t},difference:function(n,r){return f(n,function(n){return!u(r,n)})},mapToObject:function(n,r){for(var t={},o=0,u=n.length;o<u;o++){var i=n[o];t[e(i)]=r(i,o)}return t},pure:function(n){return[n]},sort:function(n,r){var t=p.call(n,0);return t.sort(r),t},range:function(n,r){for(var t=[],e=0;e<n;e++)t.push(r(e));return t}}}),o("c",[],function(){return"undefined"==typeof console&&(console={log:function(){}}),console}),u("d",document),o("4",["b","9","c","d"],function(n,r,t,e){var o=function(t){if(null===t||void 0===t)throw new r("Node cannot be null or undefined");return{dom:n.constant(t)}};return{fromHtml:function(n,r){var u=(r||e).createElement("div");if(u.innerHTML=n,!u.hasChildNodes()||u.childNodes.length>1)throw t.error("HTML does not have a single root node",n),"HTML must have a single root node";return o(u.childNodes[0])},fromTag:function(n,r){var t=(r||e).createElement(n);return o(t)},fromText:function(n,r){var t=(r||e).createTextNode(n);return o(t)},fromDom:o}}),o("e",[],function(){var n={" ":"nbsp","­":"shy"},r=function(n,r){var t,e="";for(t in n)e+=t;return new RegExp("["+e+"]",r?"g":"")},t=function(n){var r,t="";for(r in n)t&&(t+=","),t+="span.mce-"+n[r];return t};return{charMap:n,regExp:r(n),regExpGlobal:r(n,!0),selector:t(n),charMapToRegExp:r,charMapToSelector:t}}),o("i",[],function(){return{ATTRIBUTE:2,CDATA_SECTION:4,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,ELEMENT:1,TEXT:3,PROCESSING_INSTRUCTION:7,ENTITY_REFERENCE:5,ENTITY:6,NOTATION:12}}),o("g",["i"],function(n){var r=function(n){return n.dom().nodeName.toLowerCase()},t=function(n){return n.dom().nodeType},e=function(n){return function(r){return t(r)===n}},o=e(n.ELEMENT),u=e(n.TEXT),i=e(n.DOCUMENT);return{name:r,type:t,value:function(n){return n.dom().nodeValue},isElement:o,isText:u,isDocument:i,isComment:function(e){return t(e)===n.COMMENT||"#comment"===r(e)}}}),o("j",["e"],function(n){return{wrapCharWithSpan:function(r){return'<span data-mce-bogus="1" class="mce-'+n.charMap[r]+'">'+r+"</span>"}}}),o("f",["3","4","g","e","j"],function(n,r,t,e,o){var u=function(t,e){var o=[],i=t.dom(),c=n.map(i.childNodes,r.fromDom);return n.each(c,function(n){e(n)&&(o=o.concat([n])),o=o.concat(u(n,e))}),o};return{isMatch:function(n){return t.isText(n)&&void 0!==t.value(n)&&e.regExp.test(t.value(n))},filterDescendants:u,findParentElm:function(n,r){for(;n.parentNode;){if(n.parentNode===r)return n;n=n.parentNode}},replaceWithSpans:function(n){return n.replace(e.regExpGlobal,o.wrapCharWithSpan)}}}),o("5",["e","f","3","4","g"],function(n,r,t,e,o){var u=function(n,u){var i,c,a=r.filterDescendants(e.fromDom(u),r.isMatch);t.each(a,function(t){var e=r.replaceWithSpans(o.value(t));for(c=n.dom.create("div",null,e);i=c.lastChild;)n.dom.insertAfter(i,t.dom());n.dom.remove(t.dom())})},i=function(r,e){var o=r.dom.select(n.selector,e);t.each(o,function(n){r.dom.remove(n,1)})};return{show:u,hide:i,toggle:function(n){var t=n.getBody(),e=n.selection.getBookmark(),o=r.findParentElm(n.selection.getNode(),t);i(n,o=void 0!==o?o:t),u(n,o),n.selection.moveToBookmark(e)}}}),o("0",["1","2","3","4","5"],function(n,r,t,e,o){return n.add("visualchars",function(n){var t,e=this,u=function(){var r=this;n.on("VisualChars",function(n){r.active(n.state)})},i=r.debounce(function(){o.toggle(n)},300);!1!==n.settings.forced_root_block&&n.on("keydown",function(r){!0===e.state&&(13===r.keyCode?o.toggle(n):i())}),n.addCommand("mceVisualChars",function(){var r,u=n.getBody(),i=n.selection;t=!t,e.state=t,n.fire("VisualChars",{state:t}),r=i.getBookmark(),!0===t?o.show(n,u):o.hide(n,u),i.moveToBookmark(r)}),n.addButton("visualchars",{title:"Show invisible characters",cmd:"mceVisualChars",onPostRender:u}),n.addMenuItem("visualchars",{text:"Show invisible characters",cmd:"mceVisualChars",onPostRender:u,selectable:!0,context:"view",prependToContext:!0})}),function(){}}),e("0")()}();