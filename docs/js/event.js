null!==getQuery("event")&&""!==getQuery("event")||(window.location.href="/resources/event-pages.html"),firebase.database().ref("/events/"+encodeURIComponent(getQuery("event"))).once("value").then(function(e){let t=e.val();null===t||0===t?($("#event-title").html("Error 404: Event Not Found"),$("#event-description").html("The specified event <b>"+getQuery("event")+"</b> was not found. If you typed in a link to view this page, try going to the <a href='resources/event-pages.html'>event pages list</a> and clicking a link from there."),$(".event-title").html("Error 404: Event Not Found"),$(".event-description").html("The specified event <b>"+getQuery("event")+"</b> was not found. If you typed in a link to view this page, try going to the <a href='resources/event-pages.html'>event pages list</a> and clicking a link from there.")):($("#event-title").html(t.title),$("#event-description").html(t.description),t.key==getQuery("key")?t.archived?($("#archived-alert-box").show(),$("#restore").show()):$("#edit-alert-box").show():t.archived&&$("#archived-alert-box").show(),$("#delete").click(()=>{firebase.database().ref("/events/"+getQuery("event")+"/archived/").set(!0).then(()=>{alert("Event page successfully archived! You may unarchive the event page at any time."),window.location.reload()}).catch(e=>{console.error(e)})}),$("#restore").click(()=>{firebase.database().ref("/events/"+getQuery("event")+"/archived/").set(!1).then(()=>{alert("Event page successfully restored! You may now edit this page."),window.location.reload()}).catch(e=>{console.error(e)})}),$("#edit").click(()=>{$(window).on("beforeunload",()=>"Changes you made may not be saved"),$("#edit-alert").show(),$("#options").hide(),$("#view").click(()=>{window.location.reload()}),tinymce.init({selector:"#event-title",inline:!0,plugins:["textcolor colorpicker link"],toolbar:"undo redo | forecolor backcolor | link | save",menubar:!1,setup:e=>{e.addButton("save",{text:"Save Changes",icon:!1,onclick:()=>{firebase.database().ref("/events/"+getQuery("event")+"/"+e.id.replace("event-","")+"/").set(e.getContent())}})}}),tinymce.init({selector:"#event-description",inline:!0,plugins:["advlist autolink lists link image charmap print preview","searchreplace visualblocks fullscreen textcolor colorpicker","insertdatetime media table contextmenu paste imagetools"],link_assume_external_targets:!0,removed_menuitems:"newdocument",setup:e=>{e.addButton("save",{text:"Save Changes",icon:!1,onclick:()=>{firebase.database().ref("/events/"+getQuery("event")+"/"+e.id.replace("event-","")+"/").set(e.getContent())}})},toolbar:"insertfile undo redo | styleselect | bold italic | forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | save"})}))});