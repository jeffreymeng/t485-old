((e,t)=>{null!==getQuery("event")&&""!==getQuery("event")||(e.location.href="/resources/event-pages.html");const n=firebase.database();n.ref("/events/"+encodeURIComponent(getQuery("event"))).once("value").then(function(o){let i=o.val();null===i||0===i?(t("#event-title").html("Error 404: Event Not Found"),t("#event-description").html("The specified event <b>"+getQuery("event")+"</b> was not found. If you typed in a link to view this page, try going to the <a href='resources/event-pages.html'>event pages list</a> and clicking a link from there."),t(".event-title").html("Error 404: Event Not Found"),t(".event-description").html("The specified event <b>"+getQuery("event")+"</b> was not found. If you typed in a link to view this page, try going to the <a href='resources/event-pages.html'>event pages list</a> and clicking a link from there.")):(t("#event-title").html(i.title),t("#event-description").html(i.description),i.key!=getQuery("key")?i.archived&&t("#archived-alert-box").show():(i.archived?(t("#archived-alert-box").show(),t("#restore").show()):t("#edit-alert-box").show(),t("#delete").click(()=>{n.ref("/events/"+getQuery("event")+"/archived/").set(!0).then(()=>{alert("Event page successfully archived! You may unarchive the event page at any time."),e.location.reload()}).catch(e=>{console.error(e)})}),t("#restore").click(()=>{n.ref("/events/"+getQuery("event")+"/archived/").set(!1).then(()=>{alert("Event page successfully restored! You may now edit this page."),e.location.reload()}).catch(e=>{console.error(e)})}),t("#edit").click(()=>{t(e).on("beforeunload",()=>"Changes you made may not be saved"),t("#edit-alert").show(),t("#options").hide(),t("#view").click(()=>{e.location.reload()}),tinymce.init({selector:"#event-title",inline:!0,plugins:["textcolor colorpicker link"],toolbar:"undo redo | forecolor backcolor | link | save",menubar:!1,setup:e=>{e.addButton("save",{text:"Save Changes",icon:!1,onclick:()=>{n.ref("/events/"+getQuery("event")+"/"+e.id.replace("event-","")+"/").set(e.getContent())}})}}),tinymce.init({selector:"#event-description",inline:!0,plugins:["advlist autolink lists link image charmap print preview","searchreplace visualblocks fullscreen textcolor colorpicker","insertdatetime media table contextmenu paste imagetools"],link_assume_external_targets:!0,removed_menuitems:"newdocument",setup:e=>{e.addButton("save",{text:"Save Changes",icon:!1,onclick:()=>{n.ref("/events/"+getQuery("event")+"/"+e.id.replace("event-","")+"/").set(e.getContent())}})},toolbar:"insertfile undo redo | styleselect | bold italic | forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image | save"})})))})})(window,jQuery);